<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Localizador de Productos</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    select, button {
      margin-top: 10px;
      display: block;
      width: 100%;
      padding: 8px;
      font-size: 16px;
    }
  </style>
</head>
<body>

  <h2>Localizador de Productos</h2>

  <select id="categoryDropdown">
    <option value="">Selecciona una categoría</option>
  </select>

  <select id="productDropdown" disabled>
    <option value="">Selecciona un producto</option>
  </select>

  <button id="locateButton" disabled>Localizar Producto</button>

  <script>
    // Embedded JSON data (simplified for example — replace with full content if needed)
    const data = [
      {
        "category": "Aceites de Maiz y Vegetal",
        "products": ["ACEITE DE MAIZ", "ACEITE VEGETAL", "ACEITE DE CANOLA"]
      },
      {
        "category": "Aceites de Oliva",
        "products": ["ACEITE OLIVA EXTRA VIRGEN", "ACEITE DE OLIVA PURO", "ACEITE DE OLIVA LIGHT"]
      },
      {
        "category": "Aceitunas",
        "products": ["ACEITUNAS MANZANILLA", "ALCAPARRAS", "ALCAPARRADO CON PIMIENTO"]
      }
    ];

    const categoryDropdown = document.getElementById("categoryDropdown");
    const productDropdown = document.getElementById("productDropdown");
    const locateButton = document.getElementById("locateButton");

    // Populate category dropdown
    data.forEach(item => {
      const option = document.createElement("option");
      option.value = item.category;
      option.textContent = item.category;
      categoryDropdown.appendChild(option);
    });

    // Handle category change
    categoryDropdown.addEventListener("change", () => {
      const selectedCategory = categoryDropdown.value;
      productDropdown.innerHTML = '<option value="">Selecciona un producto</option>';
      productDropdown.disabled = !selectedCategory;
      locateButton.disabled = true;

      if (selectedCategory) {
        const products = data.find(cat => cat.category === selectedCategory)?.products || [];
        products.forEach(product => {
          const option = document.createElement("option");
          option.value = product;
          option.textContent = product;
          productDropdown.appendChild(option);
        });
      }
    });

    // Enable button when a product is selected
    productDropdown.addEventListener("change", () => {
      locateButton.disabled = !productDropdown.value;
    });

    // Action on button click (you can replace with real logic)
    locateButton.addEventListener("click", () => {
      alert(`Buscando: ${productDropdown.value} en la categoría ${categoryDropdown.value}`);
    });
  </script>

</body>
</html>
